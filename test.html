<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="stylesheet" href="js-practice.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script
      type="text/javascript"
      src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"
    ></script>
    <script type="text/javascript">
      (function () {
        emailjs.init({
          publicKey: "NNTeCyALDz-jEm2qe",
        });
      })();
    </script>
  </head>
  <body class="p-3 mb-2 bg-dark">
    <nav class="navbar bg-body-tertiary" data-bs-theme="dark">
      <div class="container-sm">
        <a href="js-practice.html">back</a>
        <span class="navbar-brand mb-0 h1">Cart:</span>

        <button
          onclick="
      let checkl = 0;
      checkl += 1;
      localStorage.setItem('pass', checkl);
      location.reload();

    "
          class="btn btn-primary"
          id="save"
        >
          Save
        </button>
      </div>
    </nav>

    <!-- Modal -->
    <div
      class="modal fade"
      id="exampleModal"
      tabindex="-1"
      aria-labelledby="exampleModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-scrollable">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title fs-5" id="exampleModalLabel">Checkout</h1>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <h1 class="checkt"></h1>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Edit
            </button>
            <button
              type="button"
              class="btn btn-primary"
              onclick="sendEmail();
          clear();
          document.querySelector('items').innerHTML = '';
        "
            >
              Purchase
            </button>
          </div>
        </div>
      </div>
    </div>

    <div class="stuff" style="float: right; margin-top: 50px">
      <div class="card text-bg-primary mb-3" style="width: 18rem">
        <ul class="list-group list-group-flush text-bg-primary mb-3">
          <li class="list-group-item" id="total">An item</li>
          <li class="list-group-item" id="taxes">A second item</li>
          <li class="list-group-item" id="shipping">A third item</li>
        </ul>
        <div class="card-footer" id="final">Card footer</div>
      </div>

      <button
        type="button"
        class="btn btn-success"
        onclick="
    let checkll = Number(localStorage.getItem('pass'));

    if (checkll >= 1) {
      console.log('ok');
    } else {
      let savingCount = 0;
      const popEl = document.getElementById('exampleModal');

      console.log(popEl);

      popEl.innerHTML = '';

      alert('You have to hit the save button');

      const saveButt = document.getElementById('save');

    

      function noticeSave(color) {
        saveButt.style.background = color;
      }

      function repeat() {
        setTimeout(function() {
        noticeSave('red');
      }, 500)


      setTimeout(function() {
        noticeSave('');
      }, 1000)

      setTimeout(function() {
        noticeSave('red');
      }, 1500)


      setTimeout(function() {
        noticeSave('');
      }, 2000)

      setTimeout(function() {
        noticeSave('red');
      }, 2500)


      setTimeout(function() {
        noticeSave('');
      }, 3000)


      setTimeout(function() {
        noticeSave('red');
      }, 3500)


      setTimeout(function() {
        noticeSave('');
      }, 4000)

      }

      while (savingCount < 10) {
        repeat();

        savingCount++;
      }
        
      }

    

    localStorage.removeItem('pass');

    
    "
        id="checktt"
        style="margin-left: 200px"
        data-bs-toggle="modal"
        data-bs-target="#exampleModal"
      >
        Checkout
      </button>
    </div>

    <div class="items" style="margin-left: 30px; margin-top: 20px"></div>

    <button onclick="console.log(ffcost);">click</button>
    <button
      onclick="

      const clear = () => {
        localStorage.removeItem('thing1');
        localStorage.removeItem('thing2');
        localStorage.removeItem('thing2');
        localStorage.removeItem('thing3');
        localStorage.removeItem('thing4');
        localStorage.removeItem('thing5');
        localStorage.removeItem('thing6');
        localStorage.removeItem('thing7');
        localStorage.removeItem('thing8');

        localStorage.removeItem('fcost');
        document.getElementById('final').innerHTML = `<p>Total $</p>`;
        
      }

      clear();
        
        document.querySelector('.items').innerHTML = '';

        document.querySelector('.items').innerHTML = `<h1 class='warning'>Your cart is empty</h1>  <button class='continue-shop'> <a class='toshop' href='js-practice.html'> Go to shop </a> </button>`;
        
    "
      class="clear"
    >
      Clear All
    </button>

    <script src="cart.js"></script>
    <script src="cart2.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
